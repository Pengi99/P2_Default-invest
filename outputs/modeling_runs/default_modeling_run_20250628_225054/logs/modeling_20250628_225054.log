2025-06-28 22:50:54,034 - ModelingPipeline - INFO - 모델링 파이프라인이 초기화되었습니다.
2025-06-28 22:50:54,034 - ModelingPipeline - INFO - 실행 이름: default_modeling_run_20250628_225054
2025-06-28 22:50:54,034 - ModelingPipeline - INFO - 출력 경로: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054
2025-06-28 22:50:54,034 - ModelingPipeline - INFO - === 모델링 파이프라인 시작 ===
2025-06-28 22:50:54,034 - ModelingPipeline - INFO - 데이터 로드 시작
2025-06-28 22:50:54,034 - ModelingPipeline - INFO - 오버라이드된 데이터 경로 사용: data/final
2025-06-28 22:50:54,216 - ModelingPipeline - INFO - Train: (9795, 118), 부실비율: 0.97%
2025-06-28 22:50:54,217 - ModelingPipeline - INFO - Validation: (5984, 118), 부실비율: 0.64%
2025-06-28 22:50:54,217 - ModelingPipeline - INFO - Test: (6706, 118), 부실비율: 0.30%
2025-06-28 22:50:54,217 - ModelingPipeline - INFO - 모든 모델 실행 시작
2025-06-28 22:50:54,217 - ModelingPipeline - INFO - 특성 선택 방법: SHAP (NORMAL)
2025-06-28 22:50:54,717 - ModelingPipeline - INFO - SHAP 기본 모델: random_forest
2025-06-28 22:50:54,718 - ModelingPipeline - INFO - 기본 모델 훈련 중...
2025-06-28 22:50:55,751 - ModelingPipeline - INFO - SHAP Explainer 생성 중...
2025-06-28 22:50:55,757 - ModelingPipeline - INFO - SHAP 값 계산 중...
2025-06-28 22:50:58,409 - ModelingPipeline - INFO - SHAP 값 배열 형태: (2000, 118)
2025-06-28 22:50:58,409 - ModelingPipeline - INFO - 평균 절댓값 SHAP 형태: (118,)
2025-06-28 22:50:58,409 - ModelingPipeline - INFO - 특성 개수: 118
2025-06-28 22:50:58,412 - ModelingPipeline - INFO - 임계값: 0.002513
2025-06-28 22:50:58,412 - ModelingPipeline - INFO - 평균 |SHAP|: 0.004486 (±0.005140)
2025-06-28 22:50:58,418 - ModelingPipeline - INFO - 선택된 특성: 10/118
2025-06-28 22:50:58,419 - ModelingPipeline - INFO - 활성화된 데이터 타입: ['normal', 'smote', 'undersampling', 'combined']
2025-06-28 22:50:58,419 - ModelingPipeline - INFO - 활성화된 모델: ['logistic_regression', 'random_forest', 'xgboost']
2025-06-28 22:50:58,419 - ModelingPipeline - INFO - NORMAL 데이터 처리
2025-06-28 22:50:58,420 - ModelingPipeline - INFO - logistic_regression 최적화 시작 (NORMAL)
2025-06-28 22:50:58,420 - ModelingPipeline - INFO - Logistic Regression 클래스 불균형 가중치: class_weight=None
2025-06-28 22:50:58,420 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 22:50:58,516 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.2812, Best: 0.2812
2025-06-28 22:50:58,929 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.2790, Best: 0.2812
2025-06-28 22:50:59,359 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2959, Best: 0.2959
2025-06-28 22:50:59,824 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.2950, Best: 0.2959
2025-06-28 22:51:00,276 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.2679, Best: 0.2959
2025-06-28 22:51:00,627 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.2918, Best: 0.2959
2025-06-28 22:51:00,653 - ModelingPipeline - INFO - 최적 AUC: 0.2959
2025-06-28 22:51:00,653 - ModelingPipeline - INFO - 최적 파라미터: {'C': 53.88702469068383, 'max_iter': 9699, 'penalty': 'l2', 'solver': 'newton-cg', 'tol': 0.0001, 'class_weight': None}
2025-06-28 22:51:00,654 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-06-28 22:51:00,826 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9239(±0.0321), AP=0.2959(±0.0643), F1=0.1618(±0.0669)
2025-06-28 22:51:00,826 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9239, AP: 0.2959, F1: 0.1618
2025-06-28 22:51:00,826 - ModelingPipeline - INFO - random_forest 최적화 시작 (NORMAL)
2025-06-28 22:51:00,826 - ModelingPipeline - INFO - Random Forest 클래스 불균형 가중치: class_weight=None
2025-06-28 22:51:00,826 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 22:51:04,173 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.3196, Best: 0.3196
2025-06-28 22:51:23,193 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.3259, Best: 0.3315
2025-06-28 22:51:56,610 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2814, Best: 0.3315
2025-06-28 22:52:25,983 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.3024, Best: 0.3377
2025-06-28 22:52:48,531 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.3131, Best: 0.3426
2025-06-28 22:53:02,042 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.3169, Best: 0.3426
2025-06-28 22:53:03,854 - ModelingPipeline - INFO - 최적 AUC: 0.3426
2025-06-28 22:53:03,854 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 418, 'max_depth': 3, 'min_samples_split': 5, 'min_samples_leaf': 8, 'max_features': 0.20025642406794042, 'class_weight': None}
2025-06-28 22:53:03,855 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-06-28 22:53:10,958 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9437(±0.0304), AP=0.3440(±0.0236), F1=0.0806(±0.1194)
2025-06-28 22:53:10,959 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9437, AP: 0.3440, F1: 0.0806
2025-06-28 22:53:10,978 - ModelingPipeline - INFO - xgboost 최적화 시작 (NORMAL)
2025-06-28 22:53:10,978 - ModelingPipeline - INFO - XGBoost 클래스 불균형 처리: scale_pos_weight
2025-06-28 22:53:10,978 - ModelingPipeline - INFO - scale_pos_weight = 30.00 (설정: 30.0)
2025-06-28 22:53:10,978 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 22:53:14,946 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.2437, Best: 0.2437
2025-06-28 22:53:34,454 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.2544, Best: 0.2913
2025-06-28 22:53:49,941 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2414, Best: 0.3398
2025-06-28 22:54:05,156 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.2736, Best: 0.3398
2025-06-28 22:54:26,256 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.3042, Best: 0.3398
2025-06-28 22:55:03,932 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.2614, Best: 0.3398
2025-06-28 22:55:04,295 - ModelingPipeline - INFO - 최적 AUC: 0.3398
2025-06-28 22:55:04,296 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 253, 'max_depth': 4, 'learning_rate': 0.018342050228608728, 'subsample': 0.7301321323053057, 'colsample_bytree': 0.7554709158757927, 'reg_alpha': 2.713490317738959, 'reg_lambda': 8.458637582367365, 'scale_pos_weight': 30.0}
2025-06-28 22:55:04,296 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-06-28 22:55:06,150 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9457(±0.0249), AP=0.3227(±0.0884), F1=0.2703(±0.0557)
2025-06-28 22:55:06,152 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9457, AP: 0.3227, F1: 0.2703
2025-06-28 22:55:06,152 - ModelingPipeline - INFO - SMOTE 데이터 처리
2025-06-28 22:55:06,153 - ModelingPipeline - INFO - logistic_regression 최적화 시작 (SMOTE)
2025-06-28 22:55:06,153 - ModelingPipeline - INFO - Logistic Regression 클래스 불균형 가중치: class_weight=None
2025-06-28 22:55:06,153 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 22:55:06,323 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.2758, Best: 0.2758
2025-06-28 22:55:07,017 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.2757, Best: 0.2758
2025-06-28 22:55:07,743 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2838, Best: 0.2838
2025-06-28 22:55:08,696 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.2811, Best: 0.2838
2025-06-28 22:55:09,409 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.2720, Best: 0.2838
2025-06-28 22:55:10,016 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.2811, Best: 0.2838
2025-06-28 22:55:10,045 - ModelingPipeline - INFO - 최적 AUC: 0.2838
2025-06-28 22:55:10,045 - ModelingPipeline - INFO - 최적 파라미터: {'C': 53.88702469068383, 'max_iter': 9699, 'penalty': 'l2', 'solver': 'newton-cg', 'tol': 0.0001, 'class_weight': None}
2025-06-28 22:55:10,047 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (SMOTE)
2025-06-28 22:55:10,190 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9228(±0.0313), AP=0.2838(±0.0536), F1=0.3271(±0.0596)
2025-06-28 22:55:10,190 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9228, AP: 0.2838, F1: 0.3271
2025-06-28 22:55:10,190 - ModelingPipeline - INFO - random_forest 최적화 시작 (SMOTE)
2025-06-28 22:55:10,190 - ModelingPipeline - INFO - Random Forest 클래스 불균형 가중치: class_weight=None
2025-06-28 22:55:10,190 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 22:55:14,271 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.3097, Best: 0.3097
2025-06-28 22:55:34,724 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.3060, Best: 0.3203
2025-06-28 22:56:18,936 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.3188, Best: 0.3203
2025-06-28 22:56:50,052 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.3288, Best: 0.3288
2025-06-28 22:57:59,435 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.3308, Best: 0.3308
2025-06-28 22:58:37,034 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.3273, Best: 0.3361
2025-06-28 22:58:52,911 - ModelingPipeline - INFO - 최적 AUC: 0.3361
2025-06-28 22:58:52,911 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 894, 'max_depth': 9, 'min_samples_split': 14, 'min_samples_leaf': 2, 'max_features': 0.4386279079039942, 'class_weight': None}
2025-06-28 22:58:52,912 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (SMOTE)
2025-06-28 22:59:56,154 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9351(±0.0309), AP=0.3302(±0.0975), F1=0.3221(±0.0512)
2025-06-28 22:59:56,155 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9351, AP: 0.3302, F1: 0.3221
2025-06-28 22:59:56,199 - ModelingPipeline - INFO - xgboost 최적화 시작 (SMOTE)
2025-06-28 22:59:56,199 - ModelingPipeline - INFO - XGBoost 클래스 불균형 처리: scale_pos_weight
2025-06-28 22:59:56,199 - ModelingPipeline - INFO - scale_pos_weight = 30.00 (설정: 30.0)
2025-06-28 22:59:56,199 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 23:00:00,325 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.2511, Best: 0.2511
2025-06-28 23:00:18,731 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.2589, Best: 0.2775
2025-06-28 23:00:35,267 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2493, Best: 0.3074
2025-06-28 23:00:51,790 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.2717, Best: 0.3074
2025-06-28 23:01:13,884 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.3136, Best: 0.3136
2025-06-28 23:01:52,966 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.2644, Best: 0.3243
2025-06-28 23:01:54,994 - ModelingPipeline - INFO - 최적 AUC: 0.3243
2025-06-28 23:01:54,995 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 795, 'max_depth': 8, 'learning_rate': 0.007272227582837923, 'subsample': 0.7979083308596301, 'colsample_bytree': 0.7468889095578228, 'reg_alpha': 4.729941843101366, 'reg_lambda': 8.614368469161505, 'scale_pos_weight': 30.0}
2025-06-28 23:01:54,995 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (SMOTE)
2025-06-28 23:02:04,828 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9503(±0.0213), AP=0.3240(±0.0851), F1=0.2945(±0.0534)
2025-06-28 23:02:04,829 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9503, AP: 0.3240, F1: 0.2945
2025-06-28 23:02:04,830 - ModelingPipeline - INFO - UNDERSAMPLING 데이터 처리
2025-06-28 23:02:04,831 - ModelingPipeline - INFO - logistic_regression 최적화 시작 (UNDERSAMPLING)
2025-06-28 23:02:04,831 - ModelingPipeline - INFO - Logistic Regression 클래스 불균형 가중치: class_weight=None
2025-06-28 23:02:04,831 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 23:02:05,162 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.2695, Best: 0.2695
2025-06-28 23:02:06,825 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.2808, Best: 0.2808
2025-06-28 23:02:08,516 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2858, Best: 0.2858
2025-06-28 23:02:10,241 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.2495, Best: 0.2858
2025-06-28 23:02:11,993 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.2862, Best: 0.2867
2025-06-28 23:02:13,429 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.2862, Best: 0.2867
2025-06-28 23:02:13,521 - ModelingPipeline - INFO - 최적 AUC: 0.2867
2025-06-28 23:02:13,521 - ModelingPipeline - INFO - 최적 파라미터: {'C': 95.42360250573999, 'max_iter': 6183, 'penalty': 'l2', 'solver': 'liblinear', 'tol': 0.0001, 'class_weight': None}
2025-06-28 23:02:13,521 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (UNDERSAMPLING)
2025-06-28 23:02:13,884 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9252(±0.0294), AP=0.2867(±0.0564), F1=0.1704(±0.0542)
2025-06-28 23:02:13,885 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9252, AP: 0.2867, F1: 0.1704
2025-06-28 23:02:13,885 - ModelingPipeline - INFO - random_forest 최적화 시작 (UNDERSAMPLING)
2025-06-28 23:02:13,885 - ModelingPipeline - INFO - Random Forest 클래스 불균형 가중치: class_weight=None
2025-06-28 23:02:13,885 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 23:02:17,547 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.3314, Best: 0.3314
2025-06-28 23:02:36,862 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.3286, Best: 0.3346
2025-06-28 23:03:15,908 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2898, Best: 0.3376
2025-06-28 23:03:57,117 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.3179, Best: 0.3376
2025-06-28 23:04:37,444 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.3195, Best: 0.3474
2025-06-28 23:05:04,120 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.3353, Best: 0.3484
2025-06-28 23:05:10,498 - ModelingPipeline - INFO - 최적 AUC: 0.3484
2025-06-28 23:05:10,498 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 938, 'max_depth': 3, 'min_samples_split': 5, 'min_samples_leaf': 5, 'max_features': 0.4618546724776654, 'class_weight': None}
2025-06-28 23:05:10,499 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (UNDERSAMPLING)
2025-06-28 23:05:36,282 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9392(±0.0256), AP=0.3456(±0.0305), F1=0.2360(±0.0845)
2025-06-28 23:05:36,283 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9392, AP: 0.3456, F1: 0.2360
2025-06-28 23:05:36,324 - ModelingPipeline - INFO - xgboost 최적화 시작 (UNDERSAMPLING)
2025-06-28 23:05:36,324 - ModelingPipeline - INFO - XGBoost 클래스 불균형 처리: scale_pos_weight
2025-06-28 23:05:36,324 - ModelingPipeline - INFO - scale_pos_weight = 30.00 (설정: 30.0)
2025-06-28 23:05:36,324 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 23:05:40,337 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.2490, Best: 0.2490
2025-06-28 23:05:59,247 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.2581, Best: 0.2677
2025-06-28 23:06:14,996 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2319, Best: 0.3195
2025-06-28 23:06:33,322 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.3132, Best: 0.3195
2025-06-28 23:06:54,676 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.2412, Best: 0.3195
2025-06-28 23:07:06,982 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.2694, Best: 0.3195
2025-06-28 23:07:07,415 - ModelingPipeline - INFO - 최적 AUC: 0.3195
2025-06-28 23:07:07,416 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 253, 'max_depth': 4, 'learning_rate': 0.018342050228608728, 'subsample': 0.7301321323053057, 'colsample_bytree': 0.7554709158757927, 'reg_alpha': 2.713490317738959, 'reg_lambda': 8.458637582367365, 'scale_pos_weight': 30.0}
2025-06-28 23:07:07,416 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (UNDERSAMPLING)
2025-06-28 23:07:09,406 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9465(±0.0226), AP=0.3101(±0.0890), F1=0.2746(±0.0458)
2025-06-28 23:07:09,406 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9465, AP: 0.3101, F1: 0.2746
2025-06-28 23:07:09,406 - ModelingPipeline - INFO - COMBINED 데이터 처리
2025-06-28 23:07:09,407 - ModelingPipeline - INFO - logistic_regression 최적화 시작 (COMBINED)
2025-06-28 23:07:09,407 - ModelingPipeline - INFO - Logistic Regression 클래스 불균형 가중치: class_weight=None
2025-06-28 23:07:09,407 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 23:07:09,780 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.2772, Best: 0.2772
2025-06-28 23:07:11,592 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.2781, Best: 0.2781
2025-06-28 23:07:13,474 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2829, Best: 0.2834
2025-06-28 23:07:15,413 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.2834, Best: 0.2846
2025-06-28 23:07:17,298 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.2744, Best: 0.2846
2025-06-28 23:07:18,836 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.2831, Best: 0.2861
2025-06-28 23:07:18,932 - ModelingPipeline - INFO - 최적 AUC: 0.2861
2025-06-28 23:07:18,932 - ModelingPipeline - INFO - 최적 파라미터: {'C': 97.99275792587866, 'max_iter': 8290, 'penalty': 'l2', 'solver': 'lbfgs', 'tol': 0.0001, 'class_weight': None}
2025-06-28 23:07:18,933 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (COMBINED)
2025-06-28 23:07:19,319 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9225(±0.0311), AP=0.2861(±0.0576), F1=0.3268(±0.0584)
2025-06-28 23:07:19,320 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9225, AP: 0.2861, F1: 0.3268
2025-06-28 23:07:19,320 - ModelingPipeline - INFO - random_forest 최적화 시작 (COMBINED)
2025-06-28 23:07:19,320 - ModelingPipeline - INFO - Random Forest 클래스 불균형 가중치: class_weight=None
2025-06-28 23:07:19,320 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 23:07:23,450 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.3050, Best: 0.3050
2025-06-28 23:07:46,119 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.3073, Best: 0.3163
2025-06-28 23:08:36,517 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.3126, Best: 0.3208
2025-06-28 23:09:13,511 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.3050, Best: 0.3208
2025-06-28 23:10:02,854 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.3222, Best: 0.3222
2025-06-28 23:10:20,507 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.3212, Best: 0.3287
2025-06-28 23:10:28,669 - ModelingPipeline - INFO - 최적 AUC: 0.3287
2025-06-28 23:10:28,671 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 420, 'max_depth': 6, 'min_samples_split': 9, 'min_samples_leaf': 10, 'max_features': 0.6192542565007101, 'class_weight': None}
2025-06-28 23:10:28,671 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (COMBINED)
2025-06-28 23:11:01,028 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9354(±0.0298), AP=0.3198(±0.0485), F1=0.3425(±0.0663)
2025-06-28 23:11:01,029 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9354, AP: 0.3198, F1: 0.3425
2025-06-28 23:11:01,047 - ModelingPipeline - INFO - xgboost 최적화 시작 (COMBINED)
2025-06-28 23:11:01,048 - ModelingPipeline - INFO - XGBoost 클래스 불균형 처리: scale_pos_weight
2025-06-28 23:11:01,048 - ModelingPipeline - INFO - scale_pos_weight = 30.00 (설정: 30.0)
2025-06-28 23:11:01,048 - ModelingPipeline - INFO - 최적화 메트릭: AVERAGE_PRECISION
2025-06-28 23:11:05,337 - ModelingPipeline - INFO - Trial 1/25 - Current: 0.2556, Best: 0.2556
2025-06-28 23:11:24,718 - ModelingPipeline - INFO - Trial 6/25 - Current: 0.2704, Best: 0.2778
2025-06-28 23:11:41,202 - ModelingPipeline - INFO - Trial 11/25 - Current: 0.2488, Best: 0.3140
2025-06-28 23:12:01,496 - ModelingPipeline - INFO - Trial 16/25 - Current: 0.3043, Best: 0.3140
2025-06-28 23:12:22,585 - ModelingPipeline - INFO - Trial 21/25 - Current: 0.2883, Best: 0.3140
2025-06-28 23:12:40,161 - ModelingPipeline - INFO - Trial 25/25 - Current: 0.3176, Best: 0.3176
2025-06-28 23:12:41,334 - ModelingPipeline - INFO - 최적 AUC: 0.3176
2025-06-28 23:12:41,334 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 674, 'max_depth': 5, 'learning_rate': 0.00882902247271226, 'subsample': 0.6994347093531766, 'colsample_bytree': 0.6677996515875755, 'reg_alpha': 8.531164721143437, 'reg_lambda': 6.987514882105682, 'scale_pos_weight': 30.0}
2025-06-28 23:12:41,336 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (COMBINED)
2025-06-28 23:12:47,029 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9480(±0.0231), AP=0.3152(±0.0873), F1=0.2510(±0.0428)
2025-06-28 23:12:47,029 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9480, AP: 0.3152, F1: 0.2510
2025-06-28 23:12:47,030 - ModelingPipeline - INFO - 모든 모델 평가 및 Threshold 최적화
2025-06-28 23:12:47,040 - ModelingPipeline - INFO - logistic_regression_normal 최적 Threshold 탐색
2025-06-28 23:12:47,040 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:47,906 - ModelingPipeline - INFO - 최종 선택: 0.457 (AVERAGE_PRECISION: 0.1544)
2025-06-28 23:12:47,924 - ModelingPipeline - INFO - logistic_regression_normal 최종 평가 (Threshold: 0.457):
2025-06-28 23:12:47,924 - ModelingPipeline - INFO - 검증 - AUC: 0.9460, F1: 0.2041
2025-06-28 23:12:47,924 - ModelingPipeline - INFO - 테스트 - AUC: 0.9012, F1: 0.0976
2025-06-28 23:12:47,968 - ModelingPipeline - INFO - random_forest_normal 최적 Threshold 탐색
2025-06-28 23:12:47,968 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:48,799 - ModelingPipeline - INFO - 최종 선택: 0.400 (AVERAGE_PRECISION: 0.1950)
2025-06-28 23:12:48,891 - ModelingPipeline - INFO - random_forest_normal 최종 평가 (Threshold: 0.400):
2025-06-28 23:12:48,891 - ModelingPipeline - INFO - 검증 - AUC: 0.9415, F1: 0.2667
2025-06-28 23:12:48,891 - ModelingPipeline - INFO - 테스트 - AUC: 0.8986, F1: 0.2222
2025-06-28 23:12:48,903 - ModelingPipeline - INFO - xgboost_normal 최적 Threshold 탐색
2025-06-28 23:12:48,903 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:49,763 - ModelingPipeline - INFO - 최종 선택: 0.500 (AVERAGE_PRECISION: 0.1874)
2025-06-28 23:12:49,788 - ModelingPipeline - INFO - xgboost_normal 최종 평가 (Threshold: 0.500):
2025-06-28 23:12:49,788 - ModelingPipeline - INFO - 검증 - AUC: 0.9535, F1: 0.1689
2025-06-28 23:12:49,788 - ModelingPipeline - INFO - 테스트 - AUC: 0.9094, F1: 0.0688
2025-06-28 23:12:49,802 - ModelingPipeline - INFO - logistic_regression_smote 최적 Threshold 탐색
2025-06-28 23:12:49,803 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:50,647 - ModelingPipeline - INFO - 최종 선택: 0.448 (AVERAGE_PRECISION: 0.1485)
2025-06-28 23:12:50,666 - ModelingPipeline - INFO - logistic_regression_smote 최종 평가 (Threshold: 0.448):
2025-06-28 23:12:50,666 - ModelingPipeline - INFO - 검증 - AUC: 0.9465, F1: 0.1829
2025-06-28 23:12:50,666 - ModelingPipeline - INFO - 테스트 - AUC: 0.9148, F1: 0.0829
2025-06-28 23:12:50,821 - ModelingPipeline - INFO - random_forest_smote 최적 Threshold 탐색
2025-06-28 23:12:50,821 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:51,656 - ModelingPipeline - INFO - 최종 선택: 0.330 (AVERAGE_PRECISION: 0.1391)
2025-06-28 23:12:52,045 - ModelingPipeline - INFO - random_forest_smote 최종 평가 (Threshold: 0.330):
2025-06-28 23:12:52,045 - ModelingPipeline - INFO - 검증 - AUC: 0.9384, F1: 0.2329
2025-06-28 23:12:52,045 - ModelingPipeline - INFO - 테스트 - AUC: 0.8906, F1: 0.1149
2025-06-28 23:12:52,073 - ModelingPipeline - INFO - xgboost_smote 최적 Threshold 탐색
2025-06-28 23:12:52,074 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:52,901 - ModelingPipeline - INFO - 최종 선택: 0.357 (AVERAGE_PRECISION: 0.1680)
2025-06-28 23:12:52,965 - ModelingPipeline - INFO - xgboost_smote 최종 평가 (Threshold: 0.357):
2025-06-28 23:12:52,965 - ModelingPipeline - INFO - 검증 - AUC: 0.9429, F1: 0.1739
2025-06-28 23:12:52,965 - ModelingPipeline - INFO - 테스트 - AUC: 0.9023, F1: 0.0619
2025-06-28 23:12:53,040 - ModelingPipeline - INFO - logistic_regression_undersampling 최적 Threshold 탐색
2025-06-28 23:12:53,040 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:53,874 - ModelingPipeline - INFO - 최종 선택: 0.462 (AVERAGE_PRECISION: 0.1427)
2025-06-28 23:12:53,894 - ModelingPipeline - INFO - logistic_regression_undersampling 최종 평가 (Threshold: 0.462):
2025-06-28 23:12:53,894 - ModelingPipeline - INFO - 검증 - AUC: 0.9472, F1: 0.1887
2025-06-28 23:12:53,894 - ModelingPipeline - INFO - 테스트 - AUC: 0.8963, F1: 0.0800
2025-06-28 23:12:54,034 - ModelingPipeline - INFO - random_forest_undersampling 최적 Threshold 탐색
2025-06-28 23:12:54,034 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:54,860 - ModelingPipeline - INFO - 최종 선택: 0.290 (AVERAGE_PRECISION: 0.1768)
2025-06-28 23:12:55,038 - ModelingPipeline - INFO - random_forest_undersampling 최종 평가 (Threshold: 0.290):
2025-06-28 23:12:55,038 - ModelingPipeline - INFO - 검증 - AUC: 0.9381, F1: 0.2667
2025-06-28 23:12:55,038 - ModelingPipeline - INFO - 테스트 - AUC: 0.9042, F1: 0.1944
2025-06-28 23:12:55,115 - ModelingPipeline - INFO - xgboost_undersampling 최적 Threshold 탐색
2025-06-28 23:12:55,115 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:55,955 - ModelingPipeline - INFO - 최종 선택: 0.422 (AVERAGE_PRECISION: 0.1522)
2025-06-28 23:12:55,981 - ModelingPipeline - INFO - xgboost_undersampling 최종 평가 (Threshold: 0.422):
2025-06-28 23:12:55,981 - ModelingPipeline - INFO - 검증 - AUC: 0.9517, F1: 0.1514
2025-06-28 23:12:55,981 - ModelingPipeline - INFO - 테스트 - AUC: 0.9086, F1: 0.0588
2025-06-28 23:12:56,060 - ModelingPipeline - INFO - logistic_regression_combined 최적 Threshold 탐색
2025-06-28 23:12:56,060 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:56,898 - ModelingPipeline - INFO - 최종 선택: 0.452 (AVERAGE_PRECISION: 0.1479)
2025-06-28 23:12:56,917 - ModelingPipeline - INFO - logistic_regression_combined 최종 평가 (Threshold: 0.452):
2025-06-28 23:12:56,917 - ModelingPipeline - INFO - 검증 - AUC: 0.9460, F1: 0.1839
2025-06-28 23:12:56,917 - ModelingPipeline - INFO - 테스트 - AUC: 0.9170, F1: 0.0829
2025-06-28 23:12:57,043 - ModelingPipeline - INFO - random_forest_combined 최적 Threshold 탐색
2025-06-28 23:12:57,043 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:57,887 - ModelingPipeline - INFO - 최종 선택: 0.500 (AVERAGE_PRECISION: 0.1553)
2025-06-28 23:12:58,029 - ModelingPipeline - INFO - random_forest_combined 최종 평가 (Threshold: 0.500):
2025-06-28 23:12:58,029 - ModelingPipeline - INFO - 검증 - AUC: 0.9404, F1: 0.2615
2025-06-28 23:12:58,029 - ModelingPipeline - INFO - 테스트 - AUC: 0.9070, F1: 0.1277
2025-06-28 23:12:58,116 - ModelingPipeline - INFO - xgboost_combined 최적 Threshold 탐색
2025-06-28 23:12:58,117 - ModelingPipeline - INFO - 임계값 범위: 0.0013 ~ 0.5000 (300개 점)
2025-06-28 23:12:58,956 - ModelingPipeline - INFO - 최종 선택: 0.460 (AVERAGE_PRECISION: 0.1758)
2025-06-28 23:12:58,999 - ModelingPipeline - INFO - xgboost_combined 최종 평가 (Threshold: 0.460):
2025-06-28 23:12:58,999 - ModelingPipeline - INFO - 검증 - AUC: 0.9491, F1: 0.1472
2025-06-28 23:12:58,999 - ModelingPipeline - INFO - 테스트 - AUC: 0.9082, F1: 0.0622
2025-06-28 23:12:59,000 - ModelingPipeline - INFO - 앙상블 모델 실행 시작
2025-06-28 23:12:59,002 - ModelingPipeline - INFO - 앙상블에 추가: logistic_regression_normal
2025-06-28 23:12:59,002 - ModelingPipeline - INFO - 앙상블에 추가: logistic_regression_smote
2025-06-28 23:12:59,002 - ModelingPipeline - INFO - 앙상블에 추가: logistic_regression_undersampling
2025-06-28 23:12:59,002 - ModelingPipeline - INFO - 앙상블에 추가: random_forest_normal
2025-06-28 23:12:59,002 - ModelingPipeline - INFO - 앙상블에 추가: random_forest_smote
2025-06-28 23:12:59,002 - ModelingPipeline - INFO - 앙상블에 추가: random_forest_undersampling
2025-06-28 23:12:59,003 - ModelingPipeline - INFO - 앙상블에 추가: xgboost_normal
2025-06-28 23:12:59,003 - ModelingPipeline - INFO - 앙상블에 추가: xgboost_smote
2025-06-28 23:12:59,003 - ModelingPipeline - INFO - 앙상블에 추가: xgboost_undersampling
2025-06-28 23:12:59,765 - ModelingPipeline - INFO - 앙상블 모델 완료 - Test AUC: 0.9018, F1: 0.0444
2025-06-28 23:13:00,170 - ModelingPipeline - INFO - 앙상블 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/ensemble_model_model.joblib
2025-06-28 23:13:00,170 - ModelingPipeline - INFO - 시각화 생성 시작
2025-06-28 23:13:07,778 - ModelingPipeline - INFO - Train vs Test 비교 시각화 완료
2025-06-28 23:13:07,897 - ModelingPipeline - INFO - 시각화 생성 완료
2025-06-28 23:13:07,897 - ModelingPipeline - INFO - 결과 저장 시작
2025-06-28 23:13:07,898 - ModelingPipeline - INFO - logistic_regression_normal 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/logistic_regression_normal_model.joblib
2025-06-28 23:13:07,953 - ModelingPipeline - INFO - random_forest_normal 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/random_forest_normal_model.joblib
2025-06-28 23:13:07,955 - ModelingPipeline - INFO - xgboost_normal 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/xgboost_normal_model.joblib
2025-06-28 23:13:07,956 - ModelingPipeline - INFO - logistic_regression_smote 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/logistic_regression_smote_model.joblib
2025-06-28 23:13:08,191 - ModelingPipeline - INFO - random_forest_smote 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/random_forest_smote_model.joblib
2025-06-28 23:13:08,197 - ModelingPipeline - INFO - xgboost_smote 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/xgboost_smote_model.joblib
2025-06-28 23:13:08,198 - ModelingPipeline - INFO - logistic_regression_undersampling 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/logistic_regression_undersampling_model.joblib
2025-06-28 23:13:08,314 - ModelingPipeline - INFO - random_forest_undersampling 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/random_forest_undersampling_model.joblib
2025-06-28 23:13:08,316 - ModelingPipeline - INFO - xgboost_undersampling 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/xgboost_undersampling_model.joblib
2025-06-28 23:13:08,316 - ModelingPipeline - INFO - logistic_regression_combined 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/logistic_regression_combined_model.joblib
2025-06-28 23:13:08,372 - ModelingPipeline - INFO - random_forest_combined 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/random_forest_combined_model.joblib
2025-06-28 23:13:08,376 - ModelingPipeline - INFO - xgboost_combined 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/xgboost_combined_model.joblib
2025-06-28 23:13:08,671 - ModelingPipeline - INFO - ensemble_model 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/models/ensemble_model_model.joblib
2025-06-28 23:13:09,155 - ModelingPipeline - INFO - 전체 결과 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/results/modeling_results.json
2025-06-28 23:13:09,156 - ModelingPipeline - INFO - 설정 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/modeling_config.json
2025-06-28 23:13:09,158 - ModelingPipeline - INFO - 실행 결과 요약:
2025-06-28 23:13:09,161 - ModelingPipeline - INFO - 
                  Model        Data_Type  Optimal_Threshold  CV_AUC  CV_AUC_Mean  CV_AP_Mean  CV_F1_Mean  Val_AUC  Val_F1  Test_AUC  Test_Precision  Test_Recall  Test_F1  Test_Balanced_Acc  Test_Average_Precision
0   logistic_regression           NORMAL             0.4566  0.2959       0.9239      0.2959      0.1618   0.9460  0.2041    0.9012          0.0952         0.10   0.0976             0.5486                  0.0931
1         random_forest           NORMAL             0.3999  0.3426       0.9437      0.3440      0.0806   0.9415  0.2667    0.8986          0.2000         0.25   0.2222             0.6235                  0.0902
2               xgboost           NORMAL             0.5000  0.3398       0.9457      0.3227      0.2703   0.9535  0.1689    0.9094          0.0365         0.60   0.0688             0.7763                  0.0864
3   logistic_regression            SMOTE             0.4483  0.2838       0.9228      0.2838      0.3271   0.9465  0.1829    0.9148          0.0457         0.45   0.0829             0.7109                  0.0857
4         random_forest            SMOTE             0.3299  0.3361       0.9351      0.3302      0.3221   0.9384  0.2329    0.8906          0.0649         0.50   0.1149             0.7392                  0.0754
5               xgboost            SMOTE             0.3566  0.3243       0.9503      0.3240      0.2945   0.9429  0.1739    0.9023          0.0326         0.60   0.0619             0.7734                  0.1402
6   logistic_regression    UNDERSAMPLING             0.4616  0.2867       0.9252      0.2867      0.1704   0.9472  0.1887    0.8963          0.0667         0.10   0.0800             0.5479                  0.0694
7         random_forest    UNDERSAMPLING             0.2898  0.3484       0.9392      0.3456      0.2360   0.9381  0.2667    0.9042          0.1346         0.35   0.1944             0.6716                  0.0991
8               xgboost    UNDERSAMPLING             0.4216  0.3195       0.9465      0.3101      0.2746   0.9517  0.1514    0.9086          0.0308         0.65   0.0588             0.7944                  0.1096
9   logistic_regression         COMBINED             0.4516  0.2861       0.9225      0.2861      0.3268   0.9460  0.1839    0.9170          0.0457         0.45   0.0829             0.7109                  0.0859
10        random_forest         COMBINED             0.5000  0.3287       0.9354      0.3198      0.3425   0.9404  0.2615    0.9070          0.0744         0.45   0.1277             0.7166                  0.0876
11              xgboost         COMBINED             0.4600  0.3176       0.9480      0.3152      0.2510   0.9491  0.1472    0.9082          0.0326         0.70   0.0622             0.8189                  0.1534
12             ensemble  COMBINED_MODELS             0.4500  0.3484       0.3484      0.0000      0.0000   0.9018  0.0708    0.9018          0.0230         0.70   0.0444             0.8054                  0.0696
2025-06-28 23:13:09,161 - ModelingPipeline - INFO - 요약 테이블 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250628_225054/results/summary_table.csv
2025-06-28 23:13:09,162 - ModelingPipeline - INFO - === 모델링 파이프라인 완료 ===
