2025-07-03 17:14:05,377 - ModelingPipeline - INFO - 모델링 파이프라인이 초기화되었습니다.
2025-07-03 17:14:05,378 - ModelingPipeline - INFO - 실행 이름: default_modeling_run_20250703_171405
2025-07-03 17:14:05,378 - ModelingPipeline - INFO - 출력 경로: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405
2025-07-03 17:14:05,378 - ModelingPipeline - INFO - === 모델링 파이프라인 시작 ===
2025-07-03 17:14:05,378 - ModelingPipeline - INFO - 데이터 로드 시작
2025-07-03 17:14:05,378 - ModelingPipeline - INFO - 오버라이드된 데이터 경로 사용: data/final
2025-07-03 17:14:05,431 - ModelingPipeline - INFO - Train: (10905, 19), 부실비율: 0.72%
2025-07-03 17:14:05,431 - ModelingPipeline - INFO - Validation: (5462, 19), 부실비율: 0.77%
2025-07-03 17:14:05,431 - ModelingPipeline - INFO - Test: (5329, 19), 부실비율: 0.62%
2025-07-03 17:14:05,432 - ModelingPipeline - INFO - 모든 모델 실행 시작
2025-07-03 17:14:05,432 - ModelingPipeline - INFO - 활성화된 데이터 타입: ['normal']
2025-07-03 17:14:05,432 - ModelingPipeline - INFO - 활성화된 모델: ['logistic_regression', 'random_forest', 'xgboost']
2025-07-03 17:14:05,432 - ModelingPipeline - INFO - NORMAL 데이터 처리
2025-07-03 17:14:05,433 - ModelingPipeline - INFO - logistic_regression 최적화 시작 (NORMAL)
2025-07-03 17:14:05,433 - ModelingPipeline - INFO - Logistic Regression 클래스 불균형 가중치: class_weight=balanced
2025-07-03 17:14:05,433 - ModelingPipeline - INFO - 최적화 메트릭: F1
2025-07-03 17:14:05,438 - ModelingPipeline - INFO - 스케일링이 비활성화되어 있어 로그 변환도 건너뜁니다
2025-07-03 17:14:05,439 - ModelingPipeline - INFO - 스케일링이 비활성화되어 있습니다
2025-07-03 17:14:05,791 - ModelingPipeline - INFO -   Trial 1/10 - Current: 0.0000, Best: 0.0000
2025-07-03 17:14:30,714 - ModelingPipeline - INFO -   Trial 6/10 - Current: 0.0000, Best: 0.0000
2025-07-03 17:14:45,028 - ModelingPipeline - INFO -   Trial 10/10 - Current: 0.0000, Best: 0.0000
2025-07-03 17:14:45,040 - ModelingPipeline - INFO - 최적 AUC: 0.0000
2025-07-03 17:14:45,040 - ModelingPipeline - INFO - 최적 파라미터: {'C': 0.042070539502879374, 'max_iter': 2464, 'penalty': 'l2', 'solver': 'lbfgs', 'tol': 0.0001, 'class_weight': 'balanced'}
2025-07-03 17:14:45,040 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-03 17:14:45,113 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.5938(±0.0577), AP=0.0159(±0.0060), F1=0.0000(±0.0000)
2025-07-03 17:14:45,114 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.5938, AP: 0.0159, F1: 0.0000
2025-07-03 17:14:45,114 - ModelingPipeline - INFO - random_forest 최적화 시작 (NORMAL)
2025-07-03 17:14:45,114 - ModelingPipeline - INFO - Random Forest 클래스 불균형 가중치: class_weight=balanced
2025-07-03 17:14:45,114 - ModelingPipeline - INFO - 최적화 메트릭: F1
2025-07-03 17:14:53,406 - ModelingPipeline - INFO -   Trial 1/10 - Current: 0.3019, Best: 0.3019
2025-07-03 17:15:43,280 - ModelingPipeline - INFO -   Trial 6/10 - Current: 0.2377, Best: 0.3019
2025-07-03 17:16:51,442 - ModelingPipeline - INFO -   Trial 10/10 - Current: 0.2507, Best: 0.3019
2025-07-03 17:16:54,685 - ModelingPipeline - INFO - 최적 AUC: 0.3019
2025-07-03 17:16:54,685 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 250, 'max_depth': 20, 'min_samples_split': 15, 'min_samples_leaf': 6, 'max_features': 0.24041677639819287, 'class_weight': 'balanced'}
2025-07-03 17:16:54,685 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-03 17:17:05,952 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9518(±0.0189), AP=0.3179(±0.0802), F1=0.2868(±0.1402)
2025-07-03 17:17:05,953 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9518, AP: 0.3179, F1: 0.2868
2025-07-03 17:17:05,965 - ModelingPipeline - INFO - xgboost 최적화 시작 (NORMAL)
2025-07-03 17:17:05,966 - ModelingPipeline - INFO - XGBoost 클래스 불균형 처리: scale_pos_weight
2025-07-03 17:17:05,967 - ModelingPipeline - INFO - scale_pos_weight = 138.81 (설정: auto)
2025-07-03 17:17:05,967 - ModelingPipeline - INFO - 최적화 메트릭: F1
2025-07-03 17:17:15,001 - ModelingPipeline - INFO -   Trial 1/10 - Current: 0.3436, Best: 0.3436
2025-07-03 17:17:55,159 - ModelingPipeline - INFO -   Trial 6/10 - Current: 0.3011, Best: 0.3436
2025-07-03 17:18:19,544 - ModelingPipeline - INFO -   Trial 10/10 - Current: 0.3166, Best: 0.3436
2025-07-03 17:18:19,544 - ModelingPipeline - INFO - Using XGBoost ≥ 2.0 callbacks
2025-07-03 17:18:19,545 - ModelingPipeline - WARNING - Early stopping failed, using fallback: XGBClassifier.fit() got an unexpected keyword argument 'callbacks'
2025-07-03 17:18:20,006 - ModelingPipeline - INFO - 최적 AUC: 0.3436
2025-07-03 17:18:20,006 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 175, 'max_depth': 10, 'learning_rate': 0.2209382128343645, 'subsample': 0.8394633936788146, 'colsample_bytree': 0.6624074561769746, 'reg_alpha': 1.5599452033620265, 'reg_lambda': 1.5227525095137953, 'scale_pos_weight': np.float64(138.80769230769232)}
2025-07-03 17:18:20,006 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-03 17:18:22,032 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9429(±0.0260), AP=0.2799(±0.0349), F1=0.3160(±0.0512)
2025-07-03 17:18:22,032 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9429, AP: 0.2799, F1: 0.3160
2025-07-03 17:18:22,033 - ModelingPipeline - INFO - 모든 모델 평가 및 Threshold 최적화
2025-07-03 17:18:22,033 - ModelingPipeline - INFO - 모델 평가 시작: normal__logistic_regression
2025-07-03 17:18:22,033 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-03 17:18:22,104 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.5938(±0.0577), AP=0.0159(±0.0060), F1=0.0000(±0.0000)
2025-07-03 17:18:22,104 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.5938, AP: 0.0159, F1: 0.0000
2025-07-03 17:18:22,104 - ModelingPipeline - INFO - [normal__logistic_regression] Cross-Validation (Train): {'cv_auc_mean': 0.5937767509917778, 'cv_auc_std': 0.057745742936512696, 'cv_average_precision_mean': 0.015853823952096537, 'cv_average_precision_std': 0.005997343405010054, 'cv_f1_mean': 0.0, 'cv_f1_std': 0.0}
2025-07-03 17:18:22,105 - ModelingPipeline - INFO - [normal__logistic_regression] 평가용 전처리 완료
2025-07-03 17:18:22,107 - ModelingPipeline - INFO - Optimal threshold found: 0.4996 (F1: 0.0635)
2025-07-03 17:18:22,113 - ModelingPipeline - INFO - [normal__logistic_regression] Validation (Optimal Threshold): F1=0.0635, Recall=0.0476
2025-07-03 17:18:22,123 - ModelingPipeline - INFO - [normal__logistic_regression] Test (Optimal Threshold=0.4996): F1=0.0000, Recall=0.0000
2025-07-03 17:18:22,123 - ModelingPipeline - INFO - [normal__logistic_regression] Test (Default Threshold=0.5): F1=0.0000, Recall=0.0000
2025-07-03 17:18:22,124 - ModelingPipeline - INFO - 모델 평가 완료: normal__logistic_regression
2025-07-03 17:18:22,124 - ModelingPipeline - INFO - 모델 평가 시작: normal__random_forest
2025-07-03 17:18:22,124 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-03 17:18:32,671 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9517(±0.0180), AP=0.3319(±0.0863), F1=0.2982(±0.1522)
2025-07-03 17:18:32,671 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9517, AP: 0.3319, F1: 0.2982
2025-07-03 17:18:32,671 - ModelingPipeline - INFO - [normal__random_forest] Cross-Validation (Train): {'cv_auc_mean': 0.9517402476654746, 'cv_auc_std': 0.018014815807450586, 'cv_average_precision_mean': 0.3318770485612946, 'cv_average_precision_std': 0.08627591320116566, 'cv_f1_mean': 0.2981686429512517, 'cv_f1_std': 0.15220895398165135}
2025-07-03 17:18:32,672 - ModelingPipeline - INFO - [normal__random_forest] 평가용 전처리 완료
2025-07-03 17:18:32,733 - ModelingPipeline - INFO - Optimal threshold found: 0.3058 (F1: 0.2569)
2025-07-03 17:18:32,737 - ModelingPipeline - INFO - [normal__random_forest] Validation (Optimal Threshold): F1=0.2569, Recall=0.3333
2025-07-03 17:18:32,775 - ModelingPipeline - INFO - [normal__random_forest] Test (Optimal Threshold=0.3058): F1=0.2947, Recall=0.4242
2025-07-03 17:18:32,775 - ModelingPipeline - INFO - [normal__random_forest] Test (Default Threshold=0.5): F1=0.2759, Recall=0.2424
2025-07-03 17:18:32,776 - ModelingPipeline - INFO - 모델 평가 완료: normal__random_forest
2025-07-03 17:18:32,776 - ModelingPipeline - INFO - 모델 평가 시작: normal__xgboost
2025-07-03 17:18:32,776 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-03 17:18:35,051 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9429(±0.0260), AP=0.2799(±0.0349), F1=0.3160(±0.0512)
2025-07-03 17:18:35,051 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9429, AP: 0.2799, F1: 0.3160
2025-07-03 17:18:35,051 - ModelingPipeline - INFO - [normal__xgboost] Cross-Validation (Train): {'cv_auc_mean': 0.9428749688125748, 'cv_auc_std': 0.026025486082982285, 'cv_average_precision_mean': 0.27988985817330425, 'cv_average_precision_std': 0.034872348563880246, 'cv_f1_mean': 0.31603296592173125, 'cv_f1_std': 0.051150739711388296}
2025-07-03 17:18:35,051 - ModelingPipeline - INFO - [normal__xgboost] 평가용 전처리 완료
2025-07-03 17:18:35,060 - ModelingPipeline - INFO - Optimal threshold found: 0.1105 (F1: 0.3077)
2025-07-03 17:18:35,064 - ModelingPipeline - INFO - [normal__xgboost] Validation (Optimal Threshold): F1=0.3077, Recall=0.4286
2025-07-03 17:18:35,076 - ModelingPipeline - INFO - [normal__xgboost] Test (Optimal Threshold=0.1105): F1=0.2000, Recall=0.3030
2025-07-03 17:18:35,076 - ModelingPipeline - INFO - [normal__xgboost] Test (Default Threshold=0.5): F1=0.2069, Recall=0.1818
2025-07-03 17:18:35,077 - ModelingPipeline - INFO - 모델 평가 완료: normal__xgboost
2025-07-03 17:18:35,077 - ModelingPipeline - INFO - 앙상블 모델 실행 시작
2025-07-03 17:18:35,079 - ModelingPipeline - INFO - 앙상블에 추가: normal__logistic_regression
2025-07-03 17:18:35,079 - ModelingPipeline - INFO - 앙상블에 추가: normal__random_forest
2025-07-03 17:18:35,079 - ModelingPipeline - INFO - 앙상블에 추가: normal__xgboost
2025-07-03 17:18:35,239 - ModelingPipeline - INFO - 앙상블 모델 완료 - Test AUC: 0.9229, F1: 0.2254
2025-07-03 17:18:35,282 - ModelingPipeline - INFO - 앙상블 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/models/combined_models__ensemble_model.joblib
2025-07-03 17:18:35,282 - ModelingPipeline - INFO - 시각화 생성 시작
2025-07-03 17:18:35,595 - ModelingPipeline - INFO - ROC 곡선 저장 완료: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/visualizations/roc_curves_comparison.png
2025-07-03 17:18:35,831 - ModelingPipeline - INFO - PR 곡선 저장 완료: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/visualizations/pr_curves_comparison.png
2025-07-03 17:18:36,401 - ModelingPipeline - INFO - 성능 비교 차트 저장 완료: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/visualizations/performance_comparison.png
2025-07-03 17:18:36,401 - ModelingPipeline - INFO - 특성 중요도를 시각화할 tree 기반 모델이 없습니다.
2025-07-03 17:18:36,401 - ModelingPipeline - INFO - Threshold 분석을 위한 유효한 모델이 없습니다.
2025-07-03 17:18:36,401 - ModelingPipeline - INFO - Train vs Test 비교를 위한 모델이 없습니다.
2025-07-03 17:18:36,806 - ModelingPipeline - INFO - 앙상블 가중치 차트 저장 완료: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/visualizations/ensemble_weights.png
2025-07-03 17:18:36,806 - ModelingPipeline - INFO - 시각화 생성 완료
2025-07-03 17:18:36,806 - ModelingPipeline - INFO - 결과 저장 시작
2025-07-03 17:18:36,807 - ModelingPipeline - INFO - normal__logistic_regression 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/models/normal__logistic_regression_model.joblib
2025-07-03 17:18:36,840 - ModelingPipeline - INFO - normal__random_forest 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/models/normal__random_forest_model.joblib
2025-07-03 17:18:36,841 - ModelingPipeline - INFO - normal__xgboost 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/models/normal__xgboost_model.joblib
2025-07-03 17:18:36,874 - ModelingPipeline - INFO - combined_models__ensemble 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/models/combined_models__ensemble_model.joblib
2025-07-03 17:18:36,922 - ModelingPipeline - INFO - 전체 결과 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/results/modeling_results.json
2025-07-03 17:18:36,923 - ModelingPipeline - INFO - 설정 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/modeling_config.json
2025-07-03 17:18:36,924 - ModelingPipeline - INFO - 실행 결과 요약:
2025-07-03 17:18:36,926 - ModelingPipeline - INFO - 
                 Model        Data_Type  Optimal_Threshold  CV_AUC  CV_AUC_Mean  CV_AP_Mean  CV_F1_Mean  Val_AUC  Val_F1  Test_AUC  Test_Precision  Test_Recall  Test_F1  Test_Balanced_Acc  Test_Average_Precision
0  logistic_regression           NORMAL                0.5       0            0           0           0   0.6453  0.0635    0.5844          0.0000       0.0000   0.0000             0.4986                  0.0086
1        random_forest           NORMAL                0.5       0            0           0           0   0.9299  0.2569    0.9228          0.2258       0.4242   0.2947             0.7076                  0.1623
2              xgboost           NORMAL                0.5       0            0           0           0   0.9377  0.3077    0.9180          0.1493       0.3030   0.2000             0.6461                  0.1169
3             ensemble  COMBINED_MODELS                0.4       0            0           0           0   0.0000  0.0000    0.9229          0.2105       0.2424   0.2254             0.6184                  0.1430
2025-07-03 17:18:36,926 - ModelingPipeline - INFO - 요약 테이블 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250703_171405/results/summary_table.csv
2025-07-03 17:18:36,926 - ModelingPipeline - INFO - === 모델링 파이프라인 완료 ===
