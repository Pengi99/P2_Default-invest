2025-07-02 23:39:55,507 - ModelingPipeline - INFO - 모델링 파이프라인이 초기화되었습니다.
2025-07-02 23:39:55,507 - ModelingPipeline - INFO - 실행 이름: default_modeling_run_20250702_233955
2025-07-02 23:39:55,507 - ModelingPipeline - INFO - 출력 경로: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955
2025-07-02 23:39:55,508 - ModelingPipeline - INFO - === 모델링 파이프라인 시작 ===
2025-07-02 23:39:55,508 - ModelingPipeline - INFO - 데이터 로드 시작
2025-07-02 23:39:55,508 - ModelingPipeline - INFO - 오버라이드된 데이터 경로 사용: data/final
2025-07-02 23:39:55,594 - ModelingPipeline - INFO - Train: (10905, 34), 부실비율: 0.72%
2025-07-02 23:39:55,594 - ModelingPipeline - INFO - Validation: (5461, 34), 부실비율: 0.77%
2025-07-02 23:39:55,594 - ModelingPipeline - INFO - Test: (5329, 34), 부실비율: 0.62%
2025-07-02 23:39:55,594 - ModelingPipeline - INFO - 모든 모델 실행 시작
2025-07-02 23:39:55,594 - ModelingPipeline - INFO - 활성화된 데이터 타입: ['normal']
2025-07-02 23:39:55,594 - ModelingPipeline - INFO - 활성화된 모델: ['logistic_regression', 'random_forest', 'xgboost']
2025-07-02 23:39:55,594 - ModelingPipeline - INFO - NORMAL 데이터 처리
2025-07-02 23:39:55,595 - ModelingPipeline - INFO - logistic_regression 최적화 시작 (NORMAL)
2025-07-02 23:39:55,595 - ModelingPipeline - INFO - Logistic Regression 클래스 불균형 가중치: class_weight=balanced
2025-07-02 23:39:55,595 - ModelingPipeline - INFO - 최적화 메트릭: F1
2025-07-02 23:39:55,596 - ModelingPipeline - INFO -   Holdout validation: 30 iterations
2025-07-02 23:39:55,599 - ModelingPipeline - INFO - 스케일링이 비활성화되어 있어 로그 변환도 건너뜁니다
2025-07-02 23:39:55,599 - ModelingPipeline - INFO - 스케일링이 비활성화되어 있습니다
2025-07-02 23:39:55,615 - ModelingPipeline - INFO -   Iteration 1/30: 0.0000
2025-07-02 23:39:55,875 - ModelingPipeline - INFO -   Iteration 16/30: 0.0000
2025-07-02 23:39:56,113 - ModelingPipeline - INFO -   Iteration 30/30: 0.0000
2025-07-02 23:39:56,113 - ModelingPipeline - INFO -   Holdout complete: 0.0000 ± 0.0000
2025-07-02 23:39:56,114 - ModelingPipeline - INFO -   Trial 1/2 - Current: 0.0000, Best: 0.0000
2025-07-02 23:39:56,114 - ModelingPipeline - INFO -   Holdout validation: 30 iterations
2025-07-02 23:39:56,129 - ModelingPipeline - INFO -   Iteration 1/30: 0.0000
2025-07-02 23:39:56,371 - ModelingPipeline - INFO -   Iteration 16/30: 0.0000
2025-07-02 23:39:56,591 - ModelingPipeline - INFO -   Iteration 30/30: 0.0000
2025-07-02 23:39:56,591 - ModelingPipeline - INFO -   Holdout complete: 0.0000 ± 0.0000
2025-07-02 23:39:56,591 - ModelingPipeline - INFO -   Trial 2/2 - Current: 0.0000, Best: 0.0000
2025-07-02 23:39:56,605 - ModelingPipeline - INFO - 최적 AUC: 0.0000
2025-07-02 23:39:56,605 - ModelingPipeline - INFO - 최적 파라미터: {'C': 0.04207988669606637, 'max_iter': 1644, 'penalty': 'l2', 'solver': 'lbfgs', 'tol': 0.0001, 'class_weight': 'balanced'}
2025-07-02 23:39:56,605 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-02 23:39:56,684 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.5938(±0.0577), AP=0.0159(±0.0060), F1=0.0000(±0.0000)
2025-07-02 23:39:56,685 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.5938, AP: 0.0159, F1: 0.0000
2025-07-02 23:39:56,685 - ModelingPipeline - INFO - random_forest 최적화 시작 (NORMAL)
2025-07-02 23:39:56,685 - ModelingPipeline - INFO - Random Forest 클래스 불균형 가중치: class_weight=balanced
2025-07-02 23:39:56,685 - ModelingPipeline - INFO - 최적화 메트릭: F1
2025-07-02 23:39:56,686 - ModelingPipeline - INFO -   Holdout validation: 30 iterations
2025-07-02 23:39:57,185 - ModelingPipeline - INFO -   Iteration 1/30: 0.2727
2025-07-02 23:40:04,423 - ModelingPipeline - INFO -   Iteration 16/30: 0.2400
2025-07-02 23:40:11,203 - ModelingPipeline - INFO -   Iteration 30/30: 0.1000
2025-07-02 23:40:11,203 - ModelingPipeline - INFO -   Holdout complete: 0.2166 ± 0.1111
2025-07-02 23:40:11,203 - ModelingPipeline - INFO -   Trial 1/2 - Current: 0.2166, Best: 0.2166
2025-07-02 23:40:11,204 - ModelingPipeline - INFO -   Holdout validation: 30 iterations
2025-07-02 23:40:11,926 - ModelingPipeline - INFO -   Iteration 1/30: 0.1905
2025-07-02 23:40:22,844 - ModelingPipeline - INFO -   Iteration 16/30: 0.1143
2025-07-02 23:40:33,360 - ModelingPipeline - INFO -   Iteration 30/30: 0.1746
2025-07-02 23:40:33,360 - ModelingPipeline - INFO -   Holdout complete: 0.1591 ± 0.0261
2025-07-02 23:40:33,361 - ModelingPipeline - INFO -   Trial 2/2 - Current: 0.1591, Best: 0.2166
2025-07-02 23:40:37,236 - ModelingPipeline - INFO - 최적 AUC: 0.2166
2025-07-02 23:40:37,236 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 175, 'max_depth': 20, 'min_samples_split': 15, 'min_samples_leaf': 6, 'max_features': 0.24041677639819287, 'class_weight': 'balanced'}
2025-07-02 23:40:37,236 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-02 23:40:50,094 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9609(±0.0129), AP=0.3162(±0.0996), F1=0.2511(±0.1386)
2025-07-02 23:40:50,094 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9609, AP: 0.3162, F1: 0.2511
2025-07-02 23:40:50,103 - ModelingPipeline - INFO - xgboost 최적화 시작 (NORMAL)
2025-07-02 23:40:50,104 - ModelingPipeline - INFO - XGBoost 클래스 불균형 처리: scale_pos_weight
2025-07-02 23:40:50,104 - ModelingPipeline - INFO - scale_pos_weight = 138.81 (설정: auto)
2025-07-02 23:40:50,104 - ModelingPipeline - INFO - 최적화 메트릭: F1
2025-07-02 23:40:50,105 - ModelingPipeline - INFO -   Holdout validation: 30 iterations
2025-07-02 23:40:50,523 - ModelingPipeline - INFO -   Iteration 1/30: 0.3704
2025-07-02 23:40:56,572 - ModelingPipeline - INFO -   Iteration 16/30: 0.4444
2025-07-02 23:41:02,246 - ModelingPipeline - INFO -   Iteration 30/30: 0.2000
2025-07-02 23:41:02,247 - ModelingPipeline - INFO -   Holdout complete: 0.2998 ± 0.1286
2025-07-02 23:41:02,248 - ModelingPipeline - INFO -   Trial 1/2 - Current: 0.2998, Best: 0.2998
2025-07-02 23:41:02,248 - ModelingPipeline - INFO -   Holdout validation: 30 iterations
2025-07-02 23:41:02,720 - ModelingPipeline - INFO -   Iteration 1/30: 0.3871
2025-07-02 23:41:10,059 - ModelingPipeline - INFO -   Iteration 16/30: 0.4828
2025-07-02 23:41:16,717 - ModelingPipeline - INFO -   Iteration 30/30: 0.3636
2025-07-02 23:41:16,717 - ModelingPipeline - INFO -   Holdout complete: 0.3247 ± 0.0973
2025-07-02 23:41:16,718 - ModelingPipeline - INFO -   Trial 2/2 - Current: 0.3247, Best: 0.3247
2025-07-02 23:41:16,719 - ModelingPipeline - INFO - Using XGBoost ≥ 2.0 callbacks
2025-07-02 23:41:16,719 - ModelingPipeline - WARNING - Early stopping failed, using fallback: XGBClassifier.fit() got an unexpected keyword argument 'callbacks'
2025-07-02 23:41:17,235 - ModelingPipeline - INFO - 최적 AUC: 0.3247
2025-07-02 23:41:17,235 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 274, 'max_depth': 7, 'learning_rate': 0.21388141044983341, 'subsample': 0.608233797718321, 'colsample_bytree': 0.9879639408647978, 'reg_alpha': 8.324426408004218, 'reg_lambda': 2.9110519961044856, 'scale_pos_weight': np.float64(138.80769230769232)}
2025-07-02 23:41:17,235 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-02 23:41:19,569 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9526(±0.0188), AP=0.3272(±0.1031), F1=0.3370(±0.1217)
2025-07-02 23:41:19,570 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9526, AP: 0.3272, F1: 0.3370
2025-07-02 23:41:19,570 - ModelingPipeline - INFO - 모든 모델 평가 및 Threshold 최적화
2025-07-02 23:41:19,571 - ModelingPipeline - INFO - 모델 평가 시작: normal__logistic_regression
2025-07-02 23:41:19,571 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-02 23:41:19,656 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.5938(±0.0577), AP=0.0159(±0.0060), F1=0.0000(±0.0000)
2025-07-02 23:41:19,656 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.5938, AP: 0.0159, F1: 0.0000
2025-07-02 23:41:19,656 - ModelingPipeline - INFO - [normal__logistic_regression] Cross-Validation (Train): {'cv_auc_mean': 0.5937767509917778, 'cv_auc_std': 0.057745742936512696, 'cv_average_precision_mean': 0.015853823952096537, 'cv_average_precision_std': 0.005997343405010054, 'cv_f1_mean': 0.0, 'cv_f1_std': 0.0}
2025-07-02 23:41:19,659 - ModelingPipeline - INFO - Optimal threshold found: 0.4996 (F1: 0.0635)
2025-07-02 23:41:19,663 - ModelingPipeline - INFO - [normal__logistic_regression] Validation (Optimal Threshold): F1=0.0635, Recall=0.0476
2025-07-02 23:41:19,670 - ModelingPipeline - INFO - [normal__logistic_regression] Test (Optimal Threshold=0.4996): F1=0.0000, Recall=0.0000
2025-07-02 23:41:19,670 - ModelingPipeline - INFO - [normal__logistic_regression] Test (Default Threshold=0.5): F1=0.0000, Recall=0.0000
2025-07-02 23:41:19,670 - ModelingPipeline - INFO - 모델 평가 완료: normal__logistic_regression
2025-07-02 23:41:19,670 - ModelingPipeline - INFO - 모델 평가 시작: normal__random_forest
2025-07-02 23:41:19,670 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-02 23:41:33,205 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9563(±0.0177), AP=0.3220(±0.0959), F1=0.2684(±0.1579)
2025-07-02 23:41:33,206 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9563, AP: 0.3220, F1: 0.2684
2025-07-02 23:41:33,206 - ModelingPipeline - INFO - [normal__random_forest] Cross-Validation (Train): {'cv_auc_mean': 0.956299895437715, 'cv_auc_std': 0.017703625847859852, 'cv_average_precision_mean': 0.32201336020842775, 'cv_average_precision_std': 0.0959376768120673, 'cv_f1_mean': 0.26842424242424245, 'cv_f1_std': 0.15787924155114252}
2025-07-02 23:41:33,251 - ModelingPipeline - INFO - Optimal threshold found: 0.4079 (F1: 0.3014)
2025-07-02 23:41:33,256 - ModelingPipeline - INFO - [normal__random_forest] Validation (Optimal Threshold): F1=0.3014, Recall=0.2619
2025-07-02 23:41:33,284 - ModelingPipeline - INFO - [normal__random_forest] Test (Optimal Threshold=0.4079): F1=0.2388, Recall=0.2424
2025-07-02 23:41:33,284 - ModelingPipeline - INFO - [normal__random_forest] Test (Default Threshold=0.5): F1=0.2545, Recall=0.2121
2025-07-02 23:41:33,285 - ModelingPipeline - INFO - 모델 평가 완료: normal__random_forest
2025-07-02 23:41:33,285 - ModelingPipeline - INFO - 모델 평가 시작: normal__xgboost
2025-07-02 23:41:33,285 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-02 23:41:36,125 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9526(±0.0188), AP=0.3272(±0.1031), F1=0.3370(±0.1217)
2025-07-02 23:41:36,126 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9526, AP: 0.3272, F1: 0.3370
2025-07-02 23:41:36,126 - ModelingPipeline - INFO - [normal__xgboost] Cross-Validation (Train): {'cv_auc_mean': 0.9526187450109006, 'cv_auc_std': 0.01883160992034689, 'cv_average_precision_mean': 0.32724801488694566, 'cv_average_precision_std': 0.10307967309550256, 'cv_f1_mean': 0.33699579831932774, 'cv_f1_std': 0.1217076753559574}
2025-07-02 23:41:36,137 - ModelingPipeline - INFO - Optimal threshold found: 0.4363 (F1: 0.3590)
2025-07-02 23:41:36,142 - ModelingPipeline - INFO - [normal__xgboost] Validation (Optimal Threshold): F1=0.3590, Recall=0.3333
2025-07-02 23:41:36,156 - ModelingPipeline - INFO - [normal__xgboost] Test (Optimal Threshold=0.4363): F1=0.3117, Recall=0.3636
2025-07-02 23:41:36,156 - ModelingPipeline - INFO - [normal__xgboost] Test (Default Threshold=0.5): F1=0.2857, Recall=0.3030
2025-07-02 23:41:36,157 - ModelingPipeline - INFO - 모델 평가 완료: normal__xgboost
2025-07-02 23:41:36,157 - ModelingPipeline - INFO - 앙상블 모델 실행 시작
2025-07-02 23:41:36,160 - ModelingPipeline - INFO - 앙상블에 추가: normal__logistic_regression
2025-07-02 23:41:36,160 - ModelingPipeline - INFO - 앙상블에 추가: normal__random_forest
2025-07-02 23:41:36,160 - ModelingPipeline - INFO - 앙상블에 추가: normal__xgboost
2025-07-02 23:41:36,279 - ModelingPipeline - INFO - 앙상블 모델 완료 - Test AUC: 0.9216, F1: 0.3038
2025-07-02 23:41:36,309 - ModelingPipeline - INFO - 앙상블 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/models/combined_models__ensemble_model.joblib
2025-07-02 23:41:36,309 - ModelingPipeline - INFO - 시각화 생성 시작
2025-07-02 23:41:36,628 - ModelingPipeline - INFO - ROC 곡선 저장 완료: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/visualizations/roc_curves_comparison.png
2025-07-02 23:41:36,902 - ModelingPipeline - INFO - PR 곡선 저장 완료: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/visualizations/pr_curves_comparison.png
2025-07-02 23:41:37,442 - ModelingPipeline - INFO - 성능 비교 차트 저장 완료: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/visualizations/performance_comparison.png
2025-07-02 23:41:37,442 - ModelingPipeline - INFO - 특성 중요도를 시각화할 tree 기반 모델이 없습니다.
2025-07-02 23:41:37,442 - ModelingPipeline - INFO - Threshold 분석을 위한 유효한 모델이 없습니다.
2025-07-02 23:41:37,442 - ModelingPipeline - INFO - Train vs Test 비교를 위한 모델이 없습니다.
2025-07-02 23:41:37,879 - ModelingPipeline - INFO - 앙상블 가중치 차트 저장 완료: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/visualizations/ensemble_weights.png
2025-07-02 23:41:37,879 - ModelingPipeline - INFO - 시각화 생성 완료
2025-07-02 23:41:37,879 - ModelingPipeline - INFO - 결과 저장 시작
2025-07-02 23:41:37,880 - ModelingPipeline - INFO - normal__logistic_regression 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/models/normal__logistic_regression_model.joblib
2025-07-02 23:41:37,907 - ModelingPipeline - INFO - normal__random_forest 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/models/normal__random_forest_model.joblib
2025-07-02 23:41:37,909 - ModelingPipeline - INFO - normal__xgboost 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/models/normal__xgboost_model.joblib
2025-07-02 23:41:37,936 - ModelingPipeline - INFO - combined_models__ensemble 모델 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/models/combined_models__ensemble_model.joblib
2025-07-02 23:41:37,986 - ModelingPipeline - INFO - 전체 결과 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/results/modeling_results.json
2025-07-02 23:41:37,987 - ModelingPipeline - INFO - 설정 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/modeling_config.json
2025-07-02 23:41:37,989 - ModelingPipeline - INFO - 실행 결과 요약:
2025-07-02 23:41:37,992 - ModelingPipeline - INFO - 
                 Model        Data_Type  Optimal_Threshold  CV_AUC  CV_AUC_Mean  CV_AP_Mean  CV_F1_Mean  Val_AUC  Val_F1  Test_AUC  Test_Precision  Test_Recall  Test_F1  Test_Balanced_Acc  Test_Average_Precision
0  logistic_regression           NORMAL                0.5       0            0           0           0   0.0000  0.0000    0.0000          0.0000       0.0000   0.0000             0.0000                   0.000
1        random_forest           NORMAL                0.5       0            0           0           0   0.0000  0.0000    0.0000          0.0000       0.0000   0.0000             0.0000                   0.000
2              xgboost           NORMAL                0.5       0            0           0           0   0.0000  0.0000    0.0000          0.0000       0.0000   0.0000             0.0000                   0.000
3             ensemble  COMBINED_MODELS                0.4       0            0           0           0   0.9216  0.3457    0.9216          0.2609       0.3636   0.3038             0.6786                   0.208
2025-07-02 23:41:37,992 - ModelingPipeline - INFO - 요약 테이블 저장: /Users/jojongho/KDT/P2_Default-invest/outputs/modeling_runs/default_modeling_run_20250702_233955/results/summary_table.csv
2025-07-02 23:41:37,992 - ModelingPipeline - INFO - === 모델링 파이프라인 완료 ===
