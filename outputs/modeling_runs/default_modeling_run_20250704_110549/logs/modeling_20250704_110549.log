2025-07-04 11:05:49,185 - ModelingPipeline - INFO - 모델링 파이프라인이 초기화되었습니다.
2025-07-04 11:05:49,186 - ModelingPipeline - INFO - 실행 이름: default_modeling_run_20250704_110549
2025-07-04 11:05:49,187 - ModelingPipeline - INFO - 출력 경로: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549
2025-07-04 11:05:49,189 - ModelingPipeline - INFO - === 모델링 파이프라인 시작 ===
2025-07-04 11:05:49,190 - ModelingPipeline - INFO - 데이터 로드 시작
2025-07-04 11:05:49,191 - ModelingPipeline - INFO - 기본 데이터 경로 사용: data/final
2025-07-04 11:05:49,327 - ModelingPipeline - INFO - Train: (13003, 19), 부실비율: 0.75%
2025-07-04 11:05:49,328 - ModelingPipeline - INFO - Validation: (6470, 19), 부실비율: 0.66%
2025-07-04 11:05:49,332 - ModelingPipeline - INFO - Test: (2223, 19), 부실비율: 0.58%
2025-07-04 11:05:49,340 - ModelingPipeline - INFO - 모든 모델 실행 시작
2025-07-04 11:05:49,340 - ModelingPipeline - INFO - 활성화된 데이터 타입: ['normal']
2025-07-04 11:05:49,342 - ModelingPipeline - INFO - 활성화된 모델: ['logistic_regression', 'random_forest', 'xgboost']
2025-07-04 11:05:49,343 - ModelingPipeline - INFO - NORMAL 데이터 처리
2025-07-04 11:05:49,346 - ModelingPipeline - INFO - logistic_regression 최적화 시작 (NORMAL)
2025-07-04 11:05:49,347 - ModelingPipeline - INFO - Logistic Regression 클래스 불균형 가중치: class_weight=balanced
2025-07-04 11:05:49,348 - ModelingPipeline - INFO - 최적화 메트릭: F1
2025-07-04 11:05:49,367 - ModelingPipeline - INFO - 스케일링이 비활성화되어 있어 로그 변환도 건너뜁니다
2025-07-04 11:05:49,367 - ModelingPipeline - INFO - 스케일링이 비활성화되어 있습니다
2025-07-04 11:05:50,276 - ModelingPipeline - INFO -   Trial 1/100 - Current: 0.0013, Best: 0.0013
2025-07-04 11:11:01,239 - ModelingPipeline - INFO -   Trial 51/100 - Current: 0.0478, Best: 0.0541
2025-07-04 11:15:01,961 - ModelingPipeline - INFO -   Trial 100/100 - Current: 0.0496, Best: 0.0545
2025-07-04 11:15:02,181 - ModelingPipeline - INFO - 최적 AUC: 0.0545
2025-07-04 11:15:02,181 - ModelingPipeline - INFO - 최적 파라미터: {'C': 0.020869962811936756, 'max_iter': 4958, 'penalty': 'l2', 'solver': 'newton-cg', 'tol': 0.0001, 'class_weight': 'balanced'}
2025-07-04 11:15:02,182 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-04 11:15:02,797 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.6823(±0.0927), AP=0.0373(±0.0341), F1=0.0333(±0.0430)
2025-07-04 11:15:02,798 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.6823, AP: 0.0373, F1: 0.0333
2025-07-04 11:15:02,799 - ModelingPipeline - INFO - random_forest 최적화 시작 (NORMAL)
2025-07-04 11:15:02,799 - ModelingPipeline - INFO - Random Forest 클래스 불균형 가중치: class_weight=balanced
2025-07-04 11:15:02,799 - ModelingPipeline - INFO - 최적화 메트릭: F1
2025-07-04 11:15:34,814 - ModelingPipeline - INFO -   Trial 1/10 - Current: 0.2417, Best: 0.2417
2025-07-04 11:19:19,180 - ModelingPipeline - INFO -   Trial 6/10 - Current: 0.1923, Best: 0.2417
2025-07-04 11:24:24,008 - ModelingPipeline - INFO -   Trial 10/10 - Current: 0.1943, Best: 0.2487
2025-07-04 11:24:30,132 - ModelingPipeline - INFO - 최적 AUC: 0.2487
2025-07-04 11:24:30,133 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 148, 'max_depth': 11, 'min_samples_split': 2, 'min_samples_leaf': 10, 'max_features': 0.3329019834400152, 'class_weight': 'balanced'}
2025-07-04 11:24:30,134 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-04 11:24:53,535 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9411(±0.0169), AP=0.2238(±0.0097), F1=0.2599(±0.0558)
2025-07-04 11:24:53,537 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9411, AP: 0.2238, F1: 0.2599
2025-07-04 11:24:53,565 - ModelingPipeline - INFO - xgboost 최적화 시작 (NORMAL)
2025-07-04 11:24:53,566 - ModelingPipeline - INFO - XGBoost 클래스 불균형 처리: scale_pos_weight
2025-07-04 11:24:53,566 - ModelingPipeline - INFO - scale_pos_weight = 133.05 (설정: auto)
2025-07-04 11:24:53,567 - ModelingPipeline - INFO - 최적화 메트릭: F1
2025-07-04 11:24:59,986 - ModelingPipeline - INFO -   Trial 1/10 - Current: 0.2432, Best: 0.2432
2025-07-04 11:25:30,431 - ModelingPipeline - INFO -   Trial 6/10 - Current: 0.2666, Best: 0.2735
2025-07-04 11:25:52,052 - ModelingPipeline - INFO -   Trial 10/10 - Current: 0.2924, Best: 0.2924
2025-07-04 11:25:52,055 - ModelingPipeline - INFO - Using XGBoost ≥ 2.0 callbacks
2025-07-04 11:25:52,055 - ModelingPipeline - WARNING - Early stopping failed, using fallback: XGBClassifier.fit() got an unexpected keyword argument 'callbacks'
2025-07-04 11:25:52,470 - ModelingPipeline - INFO - 최적 AUC: 0.2924
2025-07-04 11:25:52,470 - ModelingPipeline - INFO - 최적 파라미터: {'n_estimators': 171, 'max_depth': 5, 'learning_rate': 0.16509534453168329, 'subsample': 0.6563696899899051, 'colsample_bytree': 0.9208787923016158, 'reg_alpha': 0.7455064367977082, 'reg_lambda': 9.881982429404655, 'scale_pos_weight': np.float64(133.05154639175257)}
2025-07-04 11:25:52,474 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-04 11:25:54,026 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9377(±0.0250), AP=0.2441(±0.0382), F1=0.2829(±0.0624)
2025-07-04 11:25:54,028 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9377, AP: 0.2441, F1: 0.2829
2025-07-04 11:25:54,031 - ModelingPipeline - INFO - 모든 모델 평가 및 Threshold 최적화
2025-07-04 11:25:54,037 - ModelingPipeline - INFO - 모델 평가 시작: normal__logistic_regression
2025-07-04 11:25:54,040 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-04 11:25:54,704 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.6823(±0.0927), AP=0.0373(±0.0341), F1=0.0333(±0.0430)
2025-07-04 11:25:54,705 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.6823, AP: 0.0373, F1: 0.0333
2025-07-04 11:25:54,708 - ModelingPipeline - INFO - [normal__logistic_regression] Cross-Validation (Train): AUC=0.6823, F1=0.0333
2025-07-04 11:25:54,716 - ModelingPipeline - INFO - [normal__logistic_regression] 평가용 전처리 완료
2025-07-04 11:25:54,724 - ModelingPipeline - INFO - Threshold 최적화 디버깅:
2025-07-04 11:25:54,724 - ModelingPipeline - INFO -   - 검증 데이터 크기: 6470
2025-07-04 11:25:54,727 - ModelingPipeline - INFO -   - 양성 클래스 비율: 0.0066 (43/6470)
2025-07-04 11:25:54,738 - ModelingPipeline - INFO -   - 예측 확률 범위: [0.0028, 0.7370]
2025-07-04 11:25:54,742 - ModelingPipeline - INFO -   - 예측 확률 평균: 0.4657
2025-07-04 11:25:54,755 - ModelingPipeline - INFO -   - F1 점수 범위: [0.0000, 0.0597]
2025-07-04 11:25:54,756 - ModelingPipeline - INFO -   - 0이 아닌 F1 점수 개수: 6469/6470
2025-07-04 11:25:54,771 - ModelingPipeline - INFO - 최적 임계값 검증: 0.6979
2025-07-04 11:25:54,772 - ModelingPipeline - INFO -   - F1: 0.0597, Precision: 0.0833, Recall: 0.0465
2025-07-04 11:25:54,776 - ModelingPipeline - INFO -   - 양성 예측 개수: 24/6470
2025-07-04 11:25:54,801 - ModelingPipeline - INFO - [normal__logistic_regression] Validation (Optimal Threshold): F1=0.0597, Recall=0.0465
2025-07-04 11:25:54,830 - ModelingPipeline - INFO - [normal__logistic_regression] Test (Optimal Threshold=0.6979): F1=0.0000, Recall=0.0000
2025-07-04 11:25:54,831 - ModelingPipeline - INFO - [normal__logistic_regression] Test (Default Threshold=0.5): F1=0.0323, Recall=0.4615
2025-07-04 11:25:54,838 - ModelingPipeline - INFO - 모델 평가 완료: normal__logistic_regression
2025-07-04 11:25:54,845 - ModelingPipeline - INFO - 모델 평가 시작: normal__random_forest
2025-07-04 11:25:54,856 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-04 11:26:18,102 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9402(±0.0189), AP=0.2180(±0.0396), F1=0.2743(±0.0658)
2025-07-04 11:26:18,104 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9402, AP: 0.2180, F1: 0.2743
2025-07-04 11:26:18,108 - ModelingPipeline - INFO - [normal__random_forest] Cross-Validation (Train): AUC=0.9402, F1=0.2743
2025-07-04 11:26:18,114 - ModelingPipeline - INFO - [normal__random_forest] 평가용 전처리 완료
2025-07-04 11:26:18,219 - ModelingPipeline - INFO - Threshold 최적화 디버깅:
2025-07-04 11:26:18,220 - ModelingPipeline - INFO -   - 검증 데이터 크기: 6470
2025-07-04 11:26:18,224 - ModelingPipeline - INFO -   - 양성 클래스 비율: 0.0066 (43/6470)
2025-07-04 11:26:18,231 - ModelingPipeline - INFO -   - 예측 확률 범위: [0.0000, 0.9360]
2025-07-04 11:26:18,233 - ModelingPipeline - INFO -   - 예측 확률 평균: 0.0392
2025-07-04 11:26:18,237 - ModelingPipeline - INFO -   - F1 점수 범위: [0.0000, 0.2892]
2025-07-04 11:26:18,237 - ModelingPipeline - INFO -   - 0이 아닌 F1 점수 개수: 2143/2149
2025-07-04 11:26:18,258 - ModelingPipeline - INFO - 최적 임계값 검증: 0.5971
2025-07-04 11:26:18,258 - ModelingPipeline - INFO -   - F1: 0.2892, Precision: 0.3000, Recall: 0.2791
2025-07-04 11:26:18,260 - ModelingPipeline - INFO -   - 양성 예측 개수: 40/6470
2025-07-04 11:26:18,289 - ModelingPipeline - INFO - [normal__random_forest] Validation (Optimal Threshold): F1=0.2892, Recall=0.2791
2025-07-04 11:26:18,346 - ModelingPipeline - INFO - [normal__random_forest] Test (Optimal Threshold=0.5971): F1=0.3704, Recall=0.3846
2025-07-04 11:26:18,347 - ModelingPipeline - INFO - [normal__random_forest] Test (Default Threshold=0.5): F1=0.3750, Recall=0.4615
2025-07-04 11:26:18,353 - ModelingPipeline - INFO - 모델 평가 완료: normal__random_forest
2025-07-04 11:26:18,360 - ModelingPipeline - INFO - 모델 평가 시작: normal__xgboost
2025-07-04 11:26:18,367 - ModelingPipeline - INFO - CV 메트릭 계산 시작 (NORMAL)
2025-07-04 11:26:19,983 - ModelingPipeline - INFO - 최적화된 CV 완료: AUC=0.9377(±0.0250), AP=0.2441(±0.0382), F1=0.2829(±0.0624)
2025-07-04 11:26:19,985 - ModelingPipeline - INFO - CV 메트릭 계산 완료 - AUC: 0.9377, AP: 0.2441, F1: 0.2829
2025-07-04 11:26:19,987 - ModelingPipeline - INFO - [normal__xgboost] Cross-Validation (Train): AUC=0.9377, F1=0.2829
2025-07-04 11:26:19,994 - ModelingPipeline - INFO - [normal__xgboost] 평가용 전처리 완료
2025-07-04 11:26:20,016 - ModelingPipeline - INFO - Threshold 최적화 디버깅:
2025-07-04 11:26:20,017 - ModelingPipeline - INFO -   - 검증 데이터 크기: 6470
2025-07-04 11:26:20,022 - ModelingPipeline - INFO -   - 양성 클래스 비율: 0.0066 (43/6470)
2025-07-04 11:26:20,033 - ModelingPipeline - INFO -   - 예측 확률 범위: [0.0000, 0.9976]
2025-07-04 11:26:20,035 - ModelingPipeline - INFO -   - 예측 확률 평균: 0.0104
2025-07-04 11:26:20,045 - ModelingPipeline - INFO -   - F1 점수 범위: [0.0000, 0.2828]
2025-07-04 11:26:20,046 - ModelingPipeline - INFO -   - 0이 아닌 F1 점수 개수: 6466/6468
2025-07-04 11:26:20,059 - ModelingPipeline - INFO - 최적 임계값 검증: 0.3391
2025-07-04 11:26:20,060 - ModelingPipeline - INFO -   - F1: 0.2828, Precision: 0.2500, Recall: 0.3256
2025-07-04 11:26:20,061 - ModelingPipeline - INFO -   - 양성 예측 개수: 56/6470
2025-07-04 11:26:20,077 - ModelingPipeline - INFO - [normal__xgboost] Validation (Optimal Threshold): F1=0.2828, Recall=0.3256
2025-07-04 11:26:20,110 - ModelingPipeline - INFO - [normal__xgboost] Test (Optimal Threshold=0.3391): F1=0.2500, Recall=0.3077
2025-07-04 11:26:20,110 - ModelingPipeline - INFO - [normal__xgboost] Test (Default Threshold=0.5): F1=0.1600, Recall=0.1538
2025-07-04 11:26:20,122 - ModelingPipeline - INFO - 모델 평가 완료: normal__xgboost
2025-07-04 11:26:20,123 - ModelingPipeline - INFO - 앙상블 모델 실행 시작
2025-07-04 11:26:20,124 - ModelingPipeline - INFO - 앙상블에 추가: normal__logistic_regression
2025-07-04 11:26:20,124 - ModelingPipeline - INFO - 앙상블에 추가: normal__random_forest
2025-07-04 11:26:20,125 - ModelingPipeline - INFO - 앙상블에 추가: normal__xgboost
2025-07-04 11:26:20,485 - ModelingPipeline - INFO - 앙상블 모델 완료 - Test AUC: 0.9069, F1: 0.3333
2025-07-04 11:26:20,563 - ModelingPipeline - INFO - 앙상블 모델 저장: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\models\combined_models__ensemble_model.joblib
2025-07-04 11:26:20,563 - ModelingPipeline - INFO - 시각화 생성 시작
2025-07-04 11:26:21,197 - ModelingPipeline - INFO - ROC 곡선 저장 완료: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\visualizations\roc_curves_comparison.png
2025-07-04 11:26:21,746 - ModelingPipeline - INFO - PR 곡선 저장 완료: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\visualizations\pr_curves_comparison.png
2025-07-04 11:26:23,051 - ModelingPipeline - INFO - 성능 비교 차트 저장 완료: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\visualizations\performance_comparison.png
2025-07-04 11:26:23,052 - ModelingPipeline - INFO - 특성 중요도를 시각화할 tree 기반 모델이 없습니다.
2025-07-04 11:26:23,055 - ModelingPipeline - INFO - Threshold 분석을 위한 유효한 모델이 없습니다.
2025-07-04 11:26:23,063 - ModelingPipeline - INFO - Train vs Test 비교를 위한 모델이 없습니다.
2025-07-04 11:26:24,144 - ModelingPipeline - INFO - 앙상블 가중치 차트 저장 완료: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\visualizations\ensemble_weights.png
2025-07-04 11:26:24,145 - ModelingPipeline - INFO - 시각화 생성 완료
2025-07-04 11:26:24,148 - ModelingPipeline - INFO - 결과 저장 시작
2025-07-04 11:26:24,159 - ModelingPipeline - INFO - normal__logistic_regression 모델 저장: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\models\normal__logistic_regression_model.joblib
2025-07-04 11:26:24,240 - ModelingPipeline - INFO - normal__random_forest 모델 저장: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\models\normal__random_forest_model.joblib
2025-07-04 11:26:24,248 - ModelingPipeline - INFO - normal__xgboost 모델 저장: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\models\normal__xgboost_model.joblib
2025-07-04 11:26:24,329 - ModelingPipeline - INFO - combined_models__ensemble 모델 저장: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\models\combined_models__ensemble_model.joblib
2025-07-04 11:26:24,464 - ModelingPipeline - INFO - 전체 결과 저장: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\results\modeling_results.json
2025-07-04 11:26:24,474 - ModelingPipeline - INFO - 설정 저장: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\modeling_config.json
2025-07-04 11:26:24,483 - ModelingPipeline - INFO - 실행 결과 요약:
2025-07-04 11:26:24,491 - ModelingPipeline - INFO - 
                 Model        Data_Type  Optimal_Threshold  CV_AUC  CV_AUC_Mean  CV_AP_Mean  CV_F1_Mean  Val_AUC  Val_F1  Test_AUC  Test_Precision  Test_Recall  Test_F1  Test_Balanced_Acc  Test_Average_Precision
0  logistic_regression           NORMAL             0.6979  0.0333       0.0333           0           0   0.7920  0.0597    0.6963          0.0000       0.0000   0.0000             0.4986                  0.0132
1        random_forest           NORMAL             0.5971  0.2743       0.2743           0           0   0.9310  0.2892    0.8789          0.3571       0.3846   0.3704             0.6903                  0.2104
2              xgboost           NORMAL             0.3391  0.2829       0.2829           0           0   0.9356  0.2828    0.8976          0.2105       0.3077   0.2500             0.6505                  0.2038
3             ensemble  COMBINED_MODELS             0.3500  0.2829       0.2829           0           0   0.0000  0.0000    0.9069          0.2195       0.6923   0.3333             0.8389                  0.2128
2025-07-04 11:26:24,493 - ModelingPipeline - INFO - 요약 테이블 저장: C:\project_2\P2_Default-invest\outputs\modeling_runs\default_modeling_run_20250704_110549\results\summary_table.csv
2025-07-04 11:26:24,495 - ModelingPipeline - INFO - === 모델링 파이프라인 완료 ===
